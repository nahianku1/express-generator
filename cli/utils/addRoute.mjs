import r from"fs";const o=(o,e)=>{r.readFile(o,"utf8",((i,t)=>{if(i)return void console.error("Error reading file:",i);const n=t.indexOf("]");if(-1===n)return void console.error("Couldn't find insertion point in the source file.");const l=`\n    {\n      path: "/${e}",\n      route: ${e}Router\n    }`,s=t.slice(0,n)+l+t.slice(n);r.writeFile(o,s,"utf8",(i=>{i?console.error("Error writing file:",i):(((o,e)=>{r.readFile(o,"utf8",((i,t)=>{if(i)return void console.error("Error reading file:",i);const n=t.indexOf('import { authRouter } from "../modules/auth/auth.routes";')+57;if(-1===n)return void console.error("Couldn't find import insertion point in the source file.");const l=`import { ${e}Router } from "../modules/${e}/${e}.routes";\n`;let s=t.slice(0,n)+l+t.slice(n);r.writeFile(o,s,"utf8",(r=>{r&&console.error("Error writing file:",r)}))}))})(o,e),console.log(`Route added successfully to ${o}.`))}))}))};export{o as addRoute};
